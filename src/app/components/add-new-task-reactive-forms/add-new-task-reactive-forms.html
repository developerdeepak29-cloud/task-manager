<div class="border-0 shadow-sm p-2">
  <div class="card-header bg-white border-0 py-3">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="fw-bold mb-0">
        @if(id()){ Edit Task (Reactive form) } @else { New Task (Reactive form) } Reactive Form
      </h5>
    </div>
  </div>
  <div class="card-body">
    <form [formGroup]="taskFormGroup" (ngSubmit)="onSubmit()">
      <input type="hidden" formControlName="id" />

      <div class="form-floating mb-3">
        <input type="text" formControlName="title" minlength="3" class="form-control" />
        <label>Title:</label>
        @if(form['title'].invalid){ @if(form['title'].errors?.['required'] && (form['title'].dirty
        || form['title'].touched)){
        <div class="text-danger">Title is required</div>
        } @if(form['title'].errors?.['minlength']){
        <div class="text-danger">Minimum 3 characters are required</div>
        } }
      </div>

      <div class="form-floating mb-3">
        <textarea formControlName="description" class="form-control"></textarea>
        <label>Description:</label>
        @if(form['description'].invalid){ @if(form['description'].errors?.['required'] &&
        (form['description'].dirty || form['description'].touched)){
        <div class="text-danger">Description is required</div>
        } }
      </div>

      <div class="form-floating mb-3">
        <select name="status" formControlName="status" class="form-control">
          <option value="">---Select---</option>
          <option value="Pending">Pending</option>
          <option value="Completed">Completed</option>
        </select>
        <label>Status:</label>
        @if(form['status'].invalid){ @if(form['status'].errors?.['required'] &&
        (form['status'].dirty || form['status'].touched)){
        <div class="text-danger">Please select status</div>
        } }
      </div>

      <div class="pt-1">
        @if(id()){
        <button type="submit" class="btn btn-primary" [disabled]="taskFormGroup.invalid">
          Update Task
        </button>
        } @else {
        <button type="submit" class="btn btn-primary" [disabled]="taskFormGroup.invalid">
          Add New Task</button
        >}
      </div>
    </form>
  </div>
</div>
