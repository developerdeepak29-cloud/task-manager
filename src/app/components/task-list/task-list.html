<div class="row mt-5">
  <!--Template Driven form-->
  <!-- <code-for-beginners-add-new-task-template-driven></code-for-beginners-add-new-task-template-driven> -->

  <div class="col-md-6 offset-3">
    @if(id > 0){
    <code-for-beginners-add-new-task-reactive-forms
      (updateTaskEvent)="onUpdateTask($event)"
      [tasks]="tasks"
      [id]="id"
    ></code-for-beginners-add-new-task-reactive-forms>
    } @else {
    <code-for-beginners-add-new-task-reactive-forms
      (addNewTaskEvent)="onAddNewTask($event)"
    ></code-for-beginners-add-new-task-reactive-forms>
    }
  </div>
</div>

<div class="row">
  <div class="col-md-6 offset-3">
    <div class="card mt-3 mb-3">
      <div class="card-body">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          placeholder="Search task"
          class="form-control"
        />
      </div>
    </div>
  </div>
</div>

<div>
  <table class="table table-bordered table-striped table-hover">
    <thead>
      <tr>
        <th></th>
        <th>ID</th>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      @if(tasks.length){ @for(task of tasks | filterTask: searchTerm:'description'; track task.id){

      <!-- ID Column -->
      <!--[ngStyle]="{ 'background-color': task.status === 'Completed' ? 'lightgreen' : 'white' }-->
      <!-- [ngClass]="{ completed: task.status === 'Completed' }" -->
      <!-- [style.background-color]="task.status === 'Completed' ? 'lightgreen' : ''" -->

      <!-- [task]="task" is called as Input property Binding -->
      <!-- (onTaskCompleteEvent)="onTaskComplete($event)" is called as Output property Binding -->
      <tr
        code-for-beginners-task-item
        [class.completed]="task.status === taskStatus.COMPLETED"
        [task]="task"
        (onTaskCompleteEvent)="onTaskComplete($event)"
        (onDeleteTaskEvent)="onDeleteTask($event)"
        (onEditTaskEvent)="onEditTask($event)"
      ></tr>

      } } @else { @if(!isTasksLoaded){
      <tr align="center">
        <td colspan="6">
          <div>Data is loading</div>
        </td>
      </tr>
      } @else {
      <tr align="center">
        <td colspan="6">
          <div>No Data found</div>
        </td>
      </tr>
      } }
    </tbody>
  </table>
</div>
